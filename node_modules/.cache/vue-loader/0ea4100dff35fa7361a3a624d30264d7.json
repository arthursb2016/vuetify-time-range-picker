{"remainingRequest":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/infotv/projects/vuetify-time-range-picker/src/components/TimeRangePicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/infotv/projects/vuetify-time-range-picker/src/components/TimeRangePicker.vue","mtime":1617020912735},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgVlNlbGVjdCwKICBWSWNvbiwKICBWQ2hlY2tib3gsCn0gZnJvbSAndnVldGlmeS9saWInOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUaW1lUmFuZ2VQaWNrZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFZTZWxlY3QsCiAgICBWSWNvbiwKICAgIFZDaGVja2JveCwKICB9LAogIG1peGluczogW10sCiAgcHJvcHM6IHsKICAgIGlucHV0TGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAnSW50ZXJ2YWwnLAogICAgfSwKICAgIHdob2xlRGF5TGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAoKSA9PiAnV2hvbGUgZGF5JywKICAgIH0sCiAgICBzdGVwOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICgpID0+IDE1LAogICAgfSwKICAgIGhpZGVXaG9sZURheUNoZWNrYm94OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IGZhbHNlLAogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IGZhbHNlLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFydFRpbWU6ICcwMDowMCcsCiAgICAgIGVuZFRpbWU6ICcyMzo1OScsCiAgICAgIGhvdmVyaW5nOiBmYWxzZSwKICAgICAgZm9jdXNpbmc6IGZhbHNlLAogICAgICB3aG9sZURheTogdHJ1ZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGltZXMoKSB7CiAgICAgIGNvbnN0IHN0ZXAgPSBwYXJzZUludCh0aGlzLnN0ZXAsIDEwKTsKICAgICAgY29uc3QgbWF4SG91ciA9IDI0OwogICAgICBjb25zdCBtYXhNaW4gPSA1OTsKICAgICAgY29uc3QgdGltZXMgPSBbXTsKICAgICAgbGV0IGhoID0gMDsKICAgICAgd2hpbGUgKGhoIDwgbWF4SG91cikgewogICAgICAgIGxldCBtbSA9IDA7CiAgICAgICAgd2hpbGUgKG1tIDwgbWF4TWluKSB7CiAgICAgICAgICB0aW1lcy5wdXNoKGAke3RoaXMuZG91YmxlRGlnaXQoaGgpfToke3RoaXMuZG91YmxlRGlnaXQobW0pfWApOwogICAgICAgICAgbW0gKz0gc3RlcDsKICAgICAgICB9CiAgICAgICAgaGggKz0gMTsKICAgICAgfQogICAgICByZXR1cm4gdGltZXM7CiAgICB9LAogICAgc3RhcnRUaW1lcygpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZXMuc2xpY2UoMCwgdGhpcy50aW1lcy5sZW5ndGgpOwogICAgfSwKICAgIGVuZFRpbWVzKCkgewogICAgICBjb25zdCBmaWx0ZXIgPSBlbmRUaW1lID0+IHRoaXMuaXNHcmVhdGVyKGVuZFRpbWUpOwogICAgICByZXR1cm4gdGhpcy50aW1lcy5zbGljZSgxLCB0aGlzLnRpbWVzLmxlbmd0aCkuY29uY2F0KFsnMjM6NTknXSkuZmlsdGVyKGZpbHRlcik7CiAgICB9LAogICAgaXNIb3ZlcmluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuaG92ZXJpbmc7CiAgICB9LAogICAgaXNGb2N1c2luZygpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNpbmc7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHN0YXJ0VGltZSgpIHsKICAgICAgdGhpcy5jaGVja1dob2xlRGF5KCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAoIXRoaXMuZW5kVGltZXMuZmluZCh0ID0+IHQgPT09IHRoaXMuZW5kVGltZSkpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5lbmRUaW1lc1swXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVuZFRpbWUoKSB7CiAgICAgIHRoaXMuY2hlY2tXaG9sZURheSgpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0YXJ0VGltZSA9ICcwMDowMCc7CiAgICB0aGlzLmVuZFRpbWUgPSAnMjM6NTknOwogICAgdGhpcy5vblVwZGF0ZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0SG92ZXJpbmcoaG92ZXJpbmcpIHsKICAgICAgdGhpcy5ob3ZlcmluZyA9IGhvdmVyaW5nOwogICAgfSwKICAgIHNldEZvY3VzaW5nKGZvY3VzaW5nKSB7CiAgICAgIHRoaXMuZm9jdXNpbmcgPSBmb2N1c2luZzsKICAgICAgaWYgKCFmb2N1c2luZykgewogICAgICAgIHRoaXMuJHJlZnMuc3RhcnRUaW1lLmJsdXIoKTsKICAgICAgICB0aGlzLiRyZWZzLmVuZFRpbWUuYmx1cigpOwogICAgICB9CiAgICB9LAogICAgZG91YmxlRGlnaXQoZGlnaXQpIHsKICAgICAgaWYgKCh0eXBlb2YgZGlnaXQgPT09ICdzdHJpbmcnICYmIGRpZ2l0Lmxlbmd0aCA9PT0gMSkKICAgICAgICB8fCAodHlwZW9mIGRpZ2l0ID09PSAnbnVtYmVyJyAmJiBkaWdpdCA8IDEwKQogICAgICApIHsKICAgICAgICByZXR1cm4gYDAke2RpZ2l0fWA7CiAgICAgIH0KICAgICAgcmV0dXJuIGRpZ2l0OwogICAgfSwKICAgIG9uQ2hhbmdlKCkgewogICAgICB0aGlzLmZvY3VzaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5vblVwZGF0ZSgpOwogICAgfSwKICAgIG9uVXBkYXRlKCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnLCB7CiAgICAgICAgc3RhcnRUaW1lOiB0aGlzLnN0YXJ0VGltZSwKICAgICAgICBlbmRUaW1lOiB0aGlzLmVuZFRpbWUsCiAgICAgIH0pOwogICAgfSwKICAgIG9uV2hvbGVEYXlDaGFuZ2UoKSB7CiAgICAgIGlmICghdGhpcy53aG9sZURheSkgcmV0dXJuOwogICAgICB0aGlzLnN0YXJ0VGltZSA9ICcwMDowMCc7CiAgICAgIHRoaXMuZW5kVGltZSA9ICcyMzo1OSc7CiAgICB9LAogICAgY2hlY2tXaG9sZURheSgpIHsKICAgICAgaWYgKHRoaXMuc3RhcnRUaW1lID09PSAnMDA6MDAnICYmIHRoaXMuZW5kVGltZSA9PT0gJzIzOjU5JykgewogICAgICAgIHRoaXMud2hvbGVEYXkgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLndob2xlRGF5ID0gZmFsc2U7CiAgICB9LAogICAgaXNHcmVhdGVyKGVuZFRpbWUpIHsKICAgICAgY29uc3QgZDEgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBzdGFydEhvdXIgPSBwYXJzZUludCh0aGlzLnN0YXJ0VGltZS5zcGxpdCgnOicpWzBdLCAxMCk7CiAgICAgIGNvbnN0IHN0YXJ0TWludXRlID0gcGFyc2VJbnQodGhpcy5zdGFydFRpbWUuc3BsaXQoJzonKVsxXSwgMTApOwogICAgICBkMS5zZXRIb3VycyhzdGFydEhvdXIpOwogICAgICBkMS5zZXRNaW51dGVzKHN0YXJ0TWludXRlKTsKICAgICAgZDEuc2V0U2Vjb25kcygwKTsKICAgICAgY29uc3QgZDIgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBlbmRIb3VyID0gcGFyc2VJbnQoZW5kVGltZS5zcGxpdCgnOicpWzBdLCAxMCk7CiAgICAgIGNvbnN0IGVuZE1pbnV0ZSA9IHBhcnNlSW50KGVuZFRpbWUuc3BsaXQoJzonKVsxXSwgMTApOwogICAgICBkMi5zZXRIb3VycyhlbmRIb3VyKTsKICAgICAgZDIuc2V0TWludXRlcyhlbmRNaW51dGUpOwogICAgICBkMi5zZXRTZWNvbmRzKDApOwogICAgICByZXR1cm4gZDIgPiBkMTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["TimeRangePicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimeRangePicker.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div\n      class=\"d-flex\"\n      @mouseover=\"setHovering(true)\"\n      @mouseleave=\"setHovering(false)\"\n    >\n      <v-select\n        ref=\"startTime\"\n        v-model=\"startTime\"\n        :items=\"startTimes\"\n        :label=\"inputLabel\"\n        rounded\n        outlined\n        dense\n        append-icon=\"\"\n        hide-details\n        class=\"interval-select start-time\"\n        :class=\"{\n          'hovering': isHovering,\n          'focusing': isFocusing,\n        }\"\n        :disabled=\"disabled\"\n        @change=\"onChange\"\n        @focus=\"setFocusing(true)\"\n        @blur=\"setFocusing(false)\"\n      />\n      <v-select\n        ref=\"endTime\"\n        v-model=\"endTime\"\n        :items=\"endTimes\"\n        label=\"\"\n        rounded\n        outlined\n        dense\n        append-icon=\"\"\n        hide-details\n        class=\"interval-select end-time\"\n        :class=\"{\n          'hovering': isHovering,\n          'focusing': isFocusing,\n        }\"\n        :disabled=\"disabled\"\n        @change=\"onChange\"\n        @focus=\"setFocusing(true)\"\n        @blur=\"setFocusing(false)\"\n      />\n      <v-icon\n        color=\"orange\"\n        class=\"ml-1\"\n      >\n        access_time\n      </v-icon>\n    </div>\n    <div\n      v-show=\"!hideWholeDayCheckbox\"\n      class=\"whole-day\"\n    >\n      <v-checkbox\n        v-model=\"wholeDay\"\n        dense\n        color=\"orange\"\n        class=\"pt-0 mt-0\"\n        :label=\"wholeDayLabel\"\n        hide-details\n        :readonly=\"wholeDay\"\n        :ripple=\"!wholeDay\"\n        :class=\"{\n          'cursor-not-allowed': wholeDay,\n        }\"\n        :disabled=\"disabled\"\n        @change=\"onWholeDayChange\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  VSelect,\n  VIcon,\n  VCheckbox,\n} from 'vuetify/lib';\n\nexport default {\n  name: 'TimeRangePicker',\n  components: {\n    VSelect,\n    VIcon,\n    VCheckbox,\n  },\n  mixins: [],\n  props: {\n    inputLabel: {\n      type: String,\n      default: () => 'Interval',\n    },\n    wholeDayLabel: {\n      type: String,\n      default: () => 'Whole day',\n    },\n    step: {\n      type: [String, Number],\n      default: () => 15,\n    },\n    hideWholeDayCheckbox: {\n      type: Boolean,\n      default: () => false,\n    },\n    disabled: {\n      type: Boolean,\n      default: () => false,\n    },\n  },\n  data() {\n    return {\n      startTime: '00:00',\n      endTime: '23:59',\n      hovering: false,\n      focusing: false,\n      wholeDay: true,\n    };\n  },\n  computed: {\n    times() {\n      const step = parseInt(this.step, 10);\n      const maxHour = 24;\n      const maxMin = 59;\n      const times = [];\n      let hh = 0;\n      while (hh < maxHour) {\n        let mm = 0;\n        while (mm < maxMin) {\n          times.push(`${this.doubleDigit(hh)}:${this.doubleDigit(mm)}`);\n          mm += step;\n        }\n        hh += 1;\n      }\n      return times;\n    },\n    startTimes() {\n      return this.times.slice(0, this.times.length);\n    },\n    endTimes() {\n      const filter = endTime => this.isGreater(endTime);\n      return this.times.slice(1, this.times.length).concat(['23:59']).filter(filter);\n    },\n    isHovering() {\n      return this.hovering;\n    },\n    isFocusing() {\n      return this.focusing;\n    },\n  },\n  watch: {\n    startTime() {\n      this.checkWholeDay();\n      this.$nextTick(() => {\n        if (!this.endTimes.find(t => t === this.endTime)) {\n          // eslint-disable-next-line\n          this.endTime = this.endTimes[0];\n        }\n      });\n    },\n    endTime() {\n      this.checkWholeDay();\n    },\n  },\n  mounted() {\n    this.startTime = '00:00';\n    this.endTime = '23:59';\n    this.onUpdate();\n  },\n  methods: {\n    setHovering(hovering) {\n      this.hovering = hovering;\n    },\n    setFocusing(focusing) {\n      this.focusing = focusing;\n      if (!focusing) {\n        this.$refs.startTime.blur();\n        this.$refs.endTime.blur();\n      }\n    },\n    doubleDigit(digit) {\n      if ((typeof digit === 'string' && digit.length === 1)\n        || (typeof digit === 'number' && digit < 10)\n      ) {\n        return `0${digit}`;\n      }\n      return digit;\n    },\n    onChange() {\n      this.focusing = true;\n      this.onUpdate();\n    },\n    onUpdate() {\n      this.$emit('update', {\n        startTime: this.startTime,\n        endTime: this.endTime,\n      });\n    },\n    onWholeDayChange() {\n      if (!this.wholeDay) return;\n      this.startTime = '00:00';\n      this.endTime = '23:59';\n    },\n    checkWholeDay() {\n      if (this.startTime === '00:00' && this.endTime === '23:59') {\n        this.wholeDay = true;\n        return;\n      }\n      this.wholeDay = false;\n    },\n    isGreater(endTime) {\n      const d1 = new Date();\n      const startHour = parseInt(this.startTime.split(':')[0], 10);\n      const startMinute = parseInt(this.startTime.split(':')[1], 10);\n      d1.setHours(startHour);\n      d1.setMinutes(startMinute);\n      d1.setSeconds(0);\n      const d2 = new Date();\n      const endHour = parseInt(endTime.split(':')[0], 10);\n      const endMinute = parseInt(endTime.split(':')[1], 10);\n      d2.setHours(endHour);\n      d2.setMinutes(endMinute);\n      d2.setSeconds(0);\n      return d2 > d1;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}